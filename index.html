<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSSTIK - TikTok & Lite Video Downloader</title>
    <style>
        :root {
            --primary-bg: linear-gradient(135deg, #8a2be2, #00d2ff);
            --button-color: #7d2ae8;
            --download-btn: #3498db;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #f4f7f6;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .header {
            width: 100%;
            background: var(--primary-bg);
            color: white;
            padding: 50px 20px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .container {
            width: 90%;
            max-width: 600px;
            margin-top: -40px;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            text-align: center;
        }

        h1 { margin: 0 0 20px 0; font-size: 28px; }

        .input-group {
            display: flex;
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        input[type="text"] {
            flex: 1;
            padding: 15px;
            border: none;
            font-size: 16px;
            outline: none;
        }

        .paste-btn {
            background: #f8f9fa;
            border: none;
            padding: 0 15px;
            cursor: pointer;
            color: #7d2ae8;
            font-weight: bold;
            border-left: 1px solid #ddd;
        }

        .btn-main {
            width: 100%;
            padding: 15px;
            background: var(--button-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
        }

        .btn-main:hover { background: #6a21c9; }

        #resultArea { margin-top: 30px; display: none; }

        .download-links { display: flex; flex-direction: column; gap: 10px; }

        .dl-btn {
            padding: 12px;
            background: var(--download-btn);
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            display: block;
        }

        .loading {
            display: none;
            margin: 20px;
            color: #7d2ae8;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="header">
        <h1>TikTok Video Downloader</h1>
        <p>Download TikTok & TikTok Lite videos without watermark</p>
    </div>

    <div class="container">
        <div class="input-group">
            <input type="text" id="videoUrl" placeholder="Paste link from TikTok or TikTok Lite">
            <button class="paste-btn" onclick="pasteLink()">üìã Paste</button>
        </div>
        
        <button class="btn-main" onclick="fetchVideo()">Download</button>

        <div id="loader" class="loading">Processing... Please wait...</div>

        <div id="resultArea">
            <h3 id="videoTitle"></h3>
            <div class="download-links">
                <a href="#" id="noWatermark" class="dl-btn" target="_blank">Without watermark HD</a>
                <a href="#" id="withWatermark" class="dl-btn" style="background:#555;" target="_blank">Without watermark</a>
                <a href="#" id="musicBtn" class="dl-btn" style="background:#27ae60;" target="_blank">Download MP3</a>
            </div>
        </div>
    </div>

    <script>
        // ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® (‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü‡ßá‡¶∞ ‡¶≠‡ßá‡¶§‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶∂‡ßÅ‡¶ß‡ßÅ URL ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá)
        function extractUrl(text) {
            const urlRegex = /(https?:\/\/[^\s]+)/g;
            const found = text.match(urlRegex);
            return found ? found[0] : null;
        }

        async function pasteLink() {
            try {
                const text = await navigator.clipboard.readText();
                document.getElementById('videoUrl').value = text;
            } catch (err) {
                alert("Failed to paste. Please allow clipboard permissions.");
            }
        }

        async function fetchVideo() {
            const rawInput = document.getElementById('videoUrl').value;
            const cleanUrl = extractUrl(rawInput); // ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï‡¶ü‡¶ø ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßã

            const loader = document.getElementById('loader');
            const resultArea = document.getElementById('resultArea');

            if (!cleanUrl) {
                alert("Please insert a valid TikTok link!");
                return;
            }

            loader.style.display = "block";
            resultArea.style.display = "none";

            try {
                // Using Tikwm API
                const response = await fetch(`https://www.tikwm.com/api/?url=${encodeURIComponent(cleanUrl)}`);
                const data = await response.json();

                if (data.code === 0) {
                    const video = data.data;
                    document.getElementById('videoTitle').innerText = video.title || "Video Ready!";
                    document.getElementById('noWatermark').href = "https://www.tikwm.com" + video.play;
                    document.getElementById('withWatermark').href = "https://www.tikwm.com" + video.wmplay;
                    document.getElementById('musicBtn').href = "https://www.tikwm.com" + video.music;

                    loader.style.display = "none";
                    resultArea.style.display = "block";
                } else {
                    alert("Error: Video not found. Please make sure the link is public.");
                    loader.style.display = "none";
                }
            } catch (error) {
                alert("Server error. Please try again later.");
                loader.style.display = "none";
            }
        }
    </script>
</body>
</html>
